
## 梳理 防抖
### 第一版
```
var debounce = function(fun, delay) {
  let timer
  return function() {
    const context = this
    clearTimeout(timer)
    setTimeout(() => {
      fun.apply(context)
    },delay)
  }
}
```
### 第二版
绑定参数，事件对象
```
var debounce = function(fun, delay) {
  let timer
  return function() {
    const args = arguments
    const context = this
    clearTimeout(timer)
    setTimeout(() => {
      fun.apply(context, args)
    },delay)
  }
}
```

### 第三版
增加立即触发参数
```
var debounce = function(fun, delay, immedia) {
  let timer
  return function() {
    const args = arguments
    const context = this
    if(timer) {
      clearTimeout(timer)
    }
    if(immedia) {
      if(!timer) {
        fun.apply(context, args)
      }
      timer = setTimeout(() => {
        timer = null
      },delay) 
    }else {
      timer = setTimeout(() => {
        timer = null
        fun.apply(context, args)
      },delay)
    }
  }
}
```